

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Export: TensorRT &mdash; N2D2  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Export: DNeuro" href="export_DNeuro.html" />
    <link rel="prev" title="Export: C++/STM32" href="export_CPP_STM32.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> N2D2
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Presentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About N2D2-IP</a></li>
<li class="toctree-l1"><a class="reference internal" href="simus.html">Performing simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="perfs_tools.html">Performance evaluation tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="tuto.html">Tutorials</a></li>
</ul>
<p class="caption"><span class="caption-text">ONNX Import:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="onnx_convert.html">Obtain ONNX models</a></li>
<li class="toctree-l1"><a class="reference internal" href="onnx_import.html">Import ONNX models</a></li>
<li class="toctree-l1"><a class="reference internal" href="onnx_transfer.html">Train from ONNX models</a></li>
</ul>
<p class="caption"><span class="caption-text">Quantization and Export:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quant_post.html">Post-training quantization</a></li>
<li class="toctree-l1"><a class="reference internal" href="quant_qat.html">[NEW] Quantization-Aware Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="export_CPP.html">Export: C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="export_CPP_STM32.html">Export: C++/STM32</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Export: TensorRT</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#informations">Informations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#benchmark-your-tensorrt-model-c-benchmark">Benchmark your TensorRT Model - C++ Benchmark</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#analyse-the-execution-performances-of-your-tensorrt-model-fp32">Analyse the execution performances of your TensorRT Model (FP32)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#deploy-your-tensorrt-model-in-application">Deploy your TensorRT Model in Application</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="export_DNeuro.html">Export: DNeuro</a></li>
<li class="toctree-l1"><a class="reference internal" href="export_ONNX.html">Export: ONNX</a></li>
<li class="toctree-l1"><a class="reference internal" href="export_legacy.html">Export: other / legacy</a></li>
</ul>
<p class="caption"><span class="caption-text">INI File Interface:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ini_intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="ini_databases.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="ini_data_analysis.html">Stimuli data analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="ini_environment.html">Stimuli provider (Environment)</a></li>
<li class="toctree-l1"><a class="reference internal" href="ini_layers.html">Network Layers</a></li>
<li class="toctree-l1"><a class="reference internal" href="ini_target.html">Targets (outputs &amp; losses)</a></li>
</ul>
<p class="caption"><span class="caption-text">Python API:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="containers.html">Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="cells.html">Cells</a></li>
<li class="toctree-l1"><a class="reference internal" href="databases.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="stimuliprovider.html">StimuliProvider</a></li>
<li class="toctree-l1"><a class="reference internal" href="deepnet.html">DeepNet</a></li>
</ul>
<p class="caption"><span class="caption-text">C++ API / Developer:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="dev_intro.html">Introduction</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">N2D2</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Export: TensorRT</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/export_TensorRT.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="export-tensorrt">
<h1>Export: TensorRT<a class="headerlink" href="#export-tensorrt" title="Permalink to this headline">¶</a></h1>
<p>Export type: <code class="docutils literal notranslate"><span class="pre">CPP_TensorRT</span></code></p>
<p>C++ export using TensorRT.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">n2d2</span> <span class="n">MobileNet_ONNX</span><span class="o">.</span><span class="n">ini</span> <span class="o">-</span><span class="n">seed</span> <span class="mi">1</span> <span class="o">-</span><span class="n">w</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">null</span> <span class="o">-</span><span class="n">export</span> <span class="n">CPP_TensorRT</span> <span class="o">-</span><span class="n">nbbits</span> <span class="mi">32</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The calibration for this export is done using the tools provided by NVIDIA. For this reason, you cannot calibrate when exporting your network.
You need to use the export to calibrate your network.</p>
</div>
<div class="section" id="informations">
<h2>Informations<a class="headerlink" href="#informations" title="Permalink to this headline">¶</a></h2>
<p>In order to exploit TensorRT optimizations, the N2D2 Framework provide a code generator linked with a C++/Python API
that gives access to TensorRT methods, I/O handling and specifics control.
The generated code is provided as a standalone code with its own compilation environment under a Makefile format. Moreover
a benchmark environment with stimuli from the test dataset is given to evaluates execution time performances of your model.</p>
<p>This allow a low level of dependency, only TensorRT, CUDA, cuDNN, cuBLAS and GCC are needed.
We recommended you to ensure the correct compatibility of your installation by referring to the TensorRT archive page:
<a class="reference external" href="https://docs.nvidia.com/deeplearning/tensorrt/archives/index.html">https://docs.nvidia.com/deeplearning/tensorrt/archives/index.html</a>
Follow the support matrix section of your TensorRT version, notice that TensorRT export
have been tested from TensorRT 2.1 to TensorRT 7.2 versions.</p>
<p>The TensorRT library includes implementation for the most common deep learning layers, but strong limitations
are known depending of the TensorRT version. For example, TensorRT provide a support to the well-known resize layer since version 6.0.1.
This layer is widely use for decoder, segmentation and detector tasks. For inferior version a support have been integrated under a plugin
layer. The TensorRT plugin layers allow the application to implement not supported layers.
You can find additional informations about how to implements new plugin layers here :
<a class="reference external" href="https://docs.nvidia.com/deeplearning/tensorrt/developer-guide/index.html#add_custom_layer">https://docs.nvidia.com/deeplearning/tensorrt/developer-guide/index.html#add_custom_layer</a></p>
<p>The plugin layers that N2D2 TensorRT generator implements are available in the folder <code class="docutils literal notranslate"><span class="pre">export/CPP_TensorRT/include/plugins/</span></code>. These layers are
used by the N2D2 TensorRT generator when TensorRT doesn’t provide support to a requested layers.</p>
</div>
<div class="section" id="benchmark-your-tensorrt-model-c-benchmark">
<h2>Benchmark your TensorRT Model - C++ Benchmark<a class="headerlink" href="#benchmark-your-tensorrt-model-c-benchmark" title="Permalink to this headline">¶</a></h2>
<p>The TensorRT export is given with a C++ benchmark ready to be used. The benchmark program is able to evaluates the applicative performances
of your model on the test dataset exported under the <code class="docutils literal notranslate"><span class="pre">stimuli</span></code> folder at export time. A per-layer execution time analysis is also performed
to evaluates your mode latency and identify potential bottleneck.
Moreover different numerical precision supporter by NVIDIA GPU can be evaluates in order to assess potential acceleration factor and eventual
applicative performances losses.</p>
<p>When numerical precision is set to <code class="docutils literal notranslate"><span class="pre">8</span></code> bits for benchmark, the program will use the calibration files exported under the <code class="docutils literal notranslate"><span class="pre">batches_calib</span></code> folder
at export time. The calibration files also corresponds to the test stimuli pre-processes for the <code class="docutils literal notranslate"><span class="pre">IInt8EntropyCalibrator2</span></code> that implement TensorRT.
You can find more informations about the INT8 calibration procedure with TensorRT here :
<a class="reference external" href="https://docs.nvidia.com/deeplearning/tensorrt/developer-guide/index.html#optimizing_int8_c">https://docs.nvidia.com/deeplearning/tensorrt/developer-guide/index.html#optimizing_int8_c</a></p>
<p>The command to compile and execute the C++ TensorRT Benchmark under a <code class="docutils literal notranslate"><span class="pre">FP32</span></code> precision is :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span>
<span class="n">cd</span> <span class="n">export_CPP_TensorRT_float32</span><span class="o">/</span>
<span class="o">./</span><span class="nb">bin</span><span class="o">/</span><span class="n">n2d2_tensorRT_test</span> <span class="o">-</span><span class="n">nbbits</span> <span class="o">-</span><span class="mi">32</span>
</pre></div>
</div>
<p>To launch the Benchmark in <code class="docutils literal notranslate"><span class="pre">FP16</span></code> (half precision) use this command :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="nb">bin</span><span class="o">/</span><span class="n">n2d2_tensorRT_test</span> <span class="o">-</span><span class="n">nbbits</span> <span class="o">-</span><span class="mi">16</span>
</pre></div>
</div>
<p>To launch the Benchmark in <code class="docutils literal notranslate"><span class="pre">INT8</span></code> use this command :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="nb">bin</span><span class="o">/</span><span class="n">n2d2_tensorRT_test</span> <span class="o">-</span><span class="n">nbbits</span> <span class="mi">8</span>
</pre></div>
</div>
<p>List of the program option related to the TensorRT C++ benchmark:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 7%" />
<col style="width: 93%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option [default value]</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-batch</span></code> [1]</p></td>
<td><p>Size of the batch to use</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-dev</span></code> [0]</p></td>
<td><p>CUDA Device ID selection</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-stimulus</span></code> [NULL]</p></td>
<td><p>Path to a specific input stimulus to test. For example: -stimulus <span class="math notranslate nohighlight">\({/stimulus/env0000.pgm}\)</span> command will test the file env0000.pgm of the stimulus folder.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-prof</span></code></p></td>
<td><p>Activates the layer wise profiling mechanism. This option can decrease execution time performance.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-iter-build</span></code> [1]</p></td>
<td><p>Sets the number of minimization build iterations done by the tensorRT builder to find the best layer tactics.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-nbbits</span></code> [-32]</p></td>
<td><p>Number of bits used for computation. Value -32 for Full FP32 bits configuration, -16 for Half FP16 bits configuration and 8 for INT8 bits configuration. When running INT8 mode for the first time, the TensorRT calibration process can be very long. Once generated the generated calibration table will be automatically reused. Supported compute mode in function of the compute capability are provided here: <a class="reference external" href="https://docs.nvidia.com/cuda/cuda-c-programming-guide/index.html#compute-capabilities">https://docs.nvidia.com/cuda/cuda-c-programming-guide/index.html#compute-capabilities</a> .</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-calib-cache</span></code></p></td>
<td><p>Path and name to the calibration file generated by TensorRT calibrator when precision is INT8. Must be compatible with the TensorRT Entropy Calibrator version used to calibrate.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-calib-folder</span></code> [batches_calib]</p></td>
<td><p>Path to the calibration data samples. This is mandatory when precision is set to INT8 and if no calibration file cache is load.</p></td>
</tr>
</tbody>
</table>
<div class="section" id="analyse-the-execution-performances-of-your-tensorrt-model-fp32">
<h3>Analyse the execution performances of your TensorRT Model (FP32)<a class="headerlink" href="#analyse-the-execution-performances-of-your-tensorrt-model-fp32" title="Permalink to this headline">¶</a></h3>
<p>Here is a small example that described how to report the per-layer analysis on execution time.</p>
<p>Launch the Benchmark with the <code class="docutils literal notranslate"><span class="pre">-prof</span></code> argument :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="nb">bin</span><span class="o">/</span><span class="n">n2d2_tensorRT_test</span> <span class="o">-</span><span class="n">prof</span>
</pre></div>
</div>
<p>At the end of the execution the performances analysis is displayed in your screen :</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(19%)</span>  <span class="go">**************************************** CONV1 + CONV1_ACTIVATION: 0.0219467 ms</span>
<span class="gp gp-VirtualEnv">(05%)</span>  <span class="go">************ POOL1: 0.00675573 ms</span>
<span class="gp gp-VirtualEnv">(13%)</span>  <span class="go">**************************** CONV2 + CONV2_ACTIVATION: 0.0159089 ms</span>
<span class="gp gp-VirtualEnv">(05%)</span>  <span class="go">************ POOL2: 0.00616047 ms</span>
<span class="gp gp-VirtualEnv">(14%)</span>  <span class="go">****************************** CONV3 + CONV3_ACTIVATION: 0.0159713 ms</span>
<span class="gp gp-VirtualEnv">(19%)</span>  <span class="go">**************************************** FC1 + FC1_ACTIVATION: 0.0222242 ms</span>
<span class="gp gp-VirtualEnv">(13%)</span>  <span class="go">**************************** FC2: 0.0149013 ms</span>
<span class="gp gp-VirtualEnv">(08%)</span>  <span class="go">****************** SOFTMAX: 0.0100633 ms</span>
<span class="go">Average profiled tensorRT process time per stimulus = 0.113932 ms</span>
</pre></div>
</div>
<p>You can evaluates impact of the performances for various batch size and the different numerical precision supported.</p>
</div>
</div>
<div class="section" id="deploy-your-tensorrt-model-in-application">
<h2>Deploy your TensorRT Model in Application<a class="headerlink" href="#deploy-your-tensorrt-model-in-application" title="Permalink to this headline">¶</a></h2>
<p>The TensorRT export is provided with a C++ and a python interface. The python interface is accessible through a wrapper
to the C++ API method and linked with the libboost-python librabry.</p>
<p>You can integrates your model in your application environment as a library thanks to this API.</p>
<p>The command to compile the TensorRT export as a C++ library is :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">WRAPPER_CPP</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
<p>The library of your TensorRT model is provided under the name <code class="docutils literal notranslate"><span class="pre">libn2d2_tensorRT_inference.so</span></code> locate at <code class="docutils literal notranslate"><span class="pre">bin/</span></code> folder.</p>
<p>The command to compile your TensorRT export as a Python3.6m library is :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">WRAPPER_PYTHON</span><span class="o">=</span><span class="mf">3.6</span><span class="n">m</span>
</pre></div>
</div>
<p>The python library of your TensorRT model is then provided under the name <code class="docutils literal notranslate"><span class="pre">N2D2.so</span></code> locate at <code class="docutils literal notranslate"><span class="pre">bin/</span></code> folder.</p>
<p>Method accessible through C++ or Python API are listed and detailled here:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 3%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 13%" />
<col style="width: 54%" />
<col style="width: 13%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Return Type</p></th>
<th class="head"><p>C++ API</p></th>
<th class="head"><p>Python API</p></th>
<th class="head"><p>Args Type</p></th>
<th class="head"><p>ArgsName(Default Value)</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
<td><p>N2D2::Network()</p></td>
<td><p>N2D2_Network()</p></td>
<td></td>
<td></td>
<td><p>TensorRT DNN object creation</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">void</span></code></p></td>
<td><p>setMaxBatchSize</p></td>
<td><p>setMaxBatchSize</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">size_t</span></code></p></td>
<td><p>batchsize(<code class="docutils literal notranslate"><span class="pre">1</span></code>)</p></td>
<td><p>Maximum batchsize for setting the internal tensorrt graph memory usage limit</p></td>
<td><p>Use before run initialize()</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">void</span></code></p></td>
<td><p>setDeviceID</p></td>
<td><p>setDeviceID</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">size_t</span></code></p></td>
<td><p>device(<code class="docutils literal notranslate"><span class="pre">0</span></code>)</p></td>
<td><p>Device ID on which run the TensorRT model</p></td>
<td><p>Use before run initialize()</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">void</span></code></p></td>
<td><p>setPrecision</p></td>
<td><p>setPrecision</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>precision(<code class="docutils literal notranslate"><span class="pre">-32</span></code>)</p></td>
<td><p>Numerical Precision to use: <code class="docutils literal notranslate"><span class="pre">-32</span></code> for float, <code class="docutils literal notranslate"><span class="pre">-16</span></code> for half float, <code class="docutils literal notranslate"><span class="pre">8</span></code> for int8</p></td>
<td><p>Use before run initialize()</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">void</span></code></p></td>
<td><p>setDetectorThresholds</p></td>
<td><p>setDetectorThresholds</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float*</span></code>, <code class="docutils literal notranslate"><span class="pre">uint</span></code></p></td>
<td><p>thresholds, lengthThreshold</p></td>
<td><p>Set the confidences thresholds of a detector output. Bypass the internal thresholds from the exported model</p></td>
<td><p>Use before run initialize()</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">void</span></code></p></td>
<td><p>setDetectorNMS</p></td>
<td><p>setDetectorNMS</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">double</span></code></p></td>
<td><p>thresholdNms</p></td>
<td><p>Set the threshold for non-maxima suppression range (from 0.0 to 1.0) of a detector output. Bypass the internal thresholds from the exported model</p></td>
<td><p>Use before run initialize()</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">void</span></code></p></td>
<td><p>setInputEngine</p></td>
<td><p>setInputEngine</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>enginePath</p></td>
<td><p>Path of a serialized and optimized TensorRT plan file. The serialized plan file are not portable across platforms or TensorRT versions and are specific to the exact GPU model they were built on</p></td>
<td><p>Use before run initialize()</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">void</span></code></p></td>
<td><p>setOutputEngine</p></td>
<td><p>setOutputEngine</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>enginePath</p></td>
<td><p>Path and name of where to save your serialized plan file. The serialized plan file are not portable across platforms or TensorRT versions and are specific to the exact GPU model they were built on</p></td>
<td><p>Use before run initialize()</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">void</span></code></p></td>
<td><p>setCalibCache</p></td>
<td><p>setCalibCache</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>calibPath</p></td>
<td><p>Path and name to the calibration file generated by TensorRT calibrator when precision is INT8. Must be compatible with the TensorRT version used to calibrate.</p></td>
<td><p>Use before run initialize()</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">void</span></code></p></td>
<td><p>setCalibFolder</p></td>
<td><p>setCalibFolder</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>folderPath(<code class="docutils literal notranslate"><span class="pre">batches_calib/</span></code>)</p></td>
<td><p>Path to the calibration data samples. This is mandatory when precision is set to INT8 and if no calibration file cache is load.</p></td>
<td><p>Use before run initialize()</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">void</span></code></p></td>
<td><p>setParamPath</p></td>
<td><p>setParamPath</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>parmPath(<code class="docutils literal notranslate"><span class="pre">dnn/</span></code>)</p></td>
<td><p>Path to the DNN parameters generated by N2D2</p></td>
<td><p>Use before run initialize()</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">void</span></code></p></td>
<td><p>initialize</p></td>
<td><p>initialize</p></td>
<td></td>
<td></td>
<td><p>Initialize the TensorRT engine following the specified options. This function allocates the memory workspace I/O, set the precision, create the builder, create the network topology from the Network generated with N2D2 and initialize the TensorRT context</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">void</span></code></p></td>
<td><p>setProfiling</p></td>
<td><p>setProfiling</p></td>
<td></td>
<td></td>
<td><p>Initialize the profiler in the TensorRT engine</p></td>
<td><p>Use after run initialize()</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">uint</span></code></p></td>
<td><p>getInputDimX</p></td>
<td><p>getInputDimX</p></td>
<td></td>
<td></td>
<td><p>Return the dimension X of the input</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">uint</span></code></p></td>
<td><p>getInputDimY</p></td>
<td><p>getInputDimY</p></td>
<td></td>
<td></td>
<td><p>Return the dimension Y of the input</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">uint</span></code></p></td>
<td><p>getInputDimZ</p></td>
<td><p>getInputDimZ</p></td>
<td></td>
<td></td>
<td><p>Return the dimension Z of the input</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">uint</span></code></p></td>
<td><p>getOutputNbTargets</p></td>
<td><p>getOutputNbTargets</p></td>
<td></td>
<td></td>
<td><p>Return the number of outputs</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">uint</span></code></p></td>
<td><p>getOutputDimX</p></td>
<td><p>getOutputDimX</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">uint</span></code></p></td>
<td><p>outputNumber</p></td>
<td><p>Return the dimension X of a specified output</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">uint</span></code></p></td>
<td><p>getOutputDimY</p></td>
<td><p>getOutputDimY</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">uint</span></code></p></td>
<td><p>outputNumber</p></td>
<td><p>Return the dimension Y of a specified output</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">uint</span></code></p></td>
<td><p>getOutputDimZ</p></td>
<td><p>getOutputDimZ</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">uint</span></code></p></td>
<td><p>outputNumber</p></td>
<td><p>Return the dimension Z of a specified output</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">uint</span></code></p></td>
<td><p>getOutputTarget</p></td>
<td><p>getOutputTarget</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">uint</span></code></p></td>
<td><p>outputNumber</p></td>
<td><p>Return the number of labels if a specified output</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">void</span></code></p></td>
<td><p>syncExe</p></td>
<td><p>syncExe</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float*</span></code>, <code class="docutils literal notranslate"><span class="pre">uint</span></code></p></td>
<td><p>inputData,batchsize</p></td>
<td><p>Synchronously execute inference on a batch of the specified size</p></td>
<td><p>Use after run initialize()</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">void</span></code></p></td>
<td><p>log_output</p></td>
<td><p>cpyOutput</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float*</span></code>, <code class="docutils literal notranslate"><span class="pre">uint</span></code></p></td>
<td><p>inputData,outputID</p></td>
<td><p>Copy the full batch of the output of a DNN</p></td>
<td><p>Use after run initialize()</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">void</span></code></p></td>
<td><p>estimated</p></td>
<td><p>estimated</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float*</span></code>, <code class="docutils literal notranslate"><span class="pre">uint</span></code>,
<code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td><p>inputData,outputID, useGPU, threshold</p></td>
<td><p>Copy per output pixel estimated labels of a specified output. UseGpu is recommended and threshold value allow to clip the outputs values before classification</p></td>
<td><p>Use after run initialize()</p></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="export_DNeuro.html" class="btn btn-neutral float-right" title="Export: DNeuro" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="export_CPP_STM32.html" class="btn btn-neutral float-left" title="Export: C++/STM32" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, CEA LIST

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>